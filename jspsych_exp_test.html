<!DOCTYPE html>
<html>
  <head>
    <!-- ORDER IS IMPORTANT. THESE MUST ALWAYS COME FIRST, IN THIS ORDER -->
    <script src="./js/p5/p5.js"></script>
    <script src="./js/circumplex.js"></script>
    <script src="./js/bkk.js"></script>

    <!-- Now the JsPsych specific stuff -->
    <script src="./js/jspsych/jspsych.js"></script>
    <script src="./js/jspsych/plugin-instructions.js"></script>    
    <script src="./bkk-plugins/bkk-survey-text.js"></script>
    <link rel="stylesheet" href="./js/jspsych/jspsych.css"></link>
    <link rel="stylesheet" href="./bkk.css"></link>



  </head>
  <body></body>
  <script>
    var timeline=[];
    var timeline1=[];
    
    
    var jsPsych = initJsPsych({
      on_finish: function() {
        jsPsych.data.displayData();
      }
    });

    var intro = {
      type: jsPsychInstructions,
      pages: ['<p>Welcome to the experiment.</p><br><p>Click next to begin.</p>',],
      show_clickable_nav: true
    };
    timeline.push(intro);

    var bkk_preamble = 'Look at the image below. How does it make you feel? Mark your feeling on the graph below, then click continue.'

    var bkk_stimulus = { type: jsPsychBKKSurveyText, 
      bkkColor:'#D9D9D9', 
      spike: jsPsych.timelineVariable('spike'),
      complexity: jsPsych.timelineVariable('complexity'), 
      noise: jsPsych.timelineVariable('noise'), 
      smooth: jsPsych.timelineVariable('smooth'), 
      draw_eyes: jsPsych.timelineVariable('eyes'),
      gui_show:false, circClick_required: true, 
      draw_eyes:false,
      // draw_bkk: false,
      preamble: bkk_preamble, 
      min_duration: 0,
      questions: []
    } 

    var bkk_sequence = {
    timeline: [bkk_stimulus],
    timeline_variables: [     
 // complexity, smoothness, length 
// {complexity: 79, noise: 0, smooth: 24, spike: 120},
// {complexity: 79, noise: 0, smooth: 24, spike: 250},
// {complexity: 200, noise: 0, smooth: 24, spike: 120},
// {complexity: 200, noise: 0, smooth: 24, spike: 250},
// {complexity: 250, noise: 0, smooth: 24, spike: 120},
// {complexity: 250, noise: 0, smooth: 24, spike: 250},
// {complexity: 79, noise: 0, smooth: 137, spike: 120},
// {complexity: 79, noise: 0, smooth: 137, spike: 250},
// {complexity: 200, noise: 0, smooth: 137, spike: 120},
// {complexity: 200, noise: 0, smooth: 137, spike: 250},
// {complexity: 250, noise: 0, smooth: 137, spike: 120},
// {complexity: 250, noise: 0, smooth: 137, spike: 250},
// {complexity: 79, noise: 0, smooth: 250, spike: 120},
// {complexity: 79, noise: 0, smooth: 250, spike: 250},
// {complexity: 200, noise: 0, smooth: 250, spike: 120},
// {complexity: 200, noise: 0, smooth: 250, spike: 250},
// {complexity: 250, noise: 0, smooth: 250, spike: 120},
// {complexity: 250, noise: 0, smooth: 250, spike: 250},



 // complexity, smoothness, noise, length

{complexity: 79, noise: 0, smooth: 24, spike: 120},
{complexity: 79, noise: 0, smooth: 24, spike: 250},
{complexity: 79, noise: 150, smooth: 24, spike: 120},
{complexity: 79, noise: 150, smooth: 24, spike: 250},
{complexity: 225, noise: 0, smooth: 24, spike: 120},
{complexity: 225, noise: 0, smooth: 24, spike: 250},
{complexity: 225, noise: 150, smooth: 24, spike: 120},
{complexity: 225, noise: 150, smooth: 24, spike: 250},
{complexity: 79, noise: 0, smooth: 137, spike: 120},
{complexity: 79, noise: 0, smooth: 137, spike: 250},
{complexity: 79, noise: 150, smooth: 137, spike: 120},
{complexity: 79, noise: 150, smooth: 137, spike: 250},
{complexity: 225, noise: 0, smooth: 137, spike: 120},
{complexity: 225, noise: 0, smooth: 137, spike: 250},
{complexity: 225, noise: 150, smooth: 137, spike: 120},
{complexity: 225, noise: 150, smooth: 137, spike: 250},
{complexity: 79, noise: 0, smooth: 250, spike: 120},
{complexity: 79, noise: 0, smooth: 250, spike: 250},
{complexity: 79, noise: 150, smooth: 250, spike: 120},
{complexity: 79, noise: 150, smooth: 250, spike: 250},
{complexity: 225, noise: 0, smooth: 250, spike: 120},
{complexity: 225, noise: 0, smooth: 250, spike: 250},
{complexity: 225, noise: 150, smooth: 250, spike: 120},
{complexity: 225, noise: 150, smooth: 250, spike: 250},

      ],
      randomize_order: false
    }

    // timeline.push.apply(timeline, bkk_sequence);

    timeline.push(bkk_sequence);    
    jsPsych.run(timeline);


</script>

</html>